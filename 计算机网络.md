# 目录
| Chapter 1 | Chapter 2 | Chapter 3 | Chapter 4|
| :---------: | :---------: | :---------: | :---------: |
| [七层与四层](#七层与四层)|[应用层](#应用层)|[传输层](#传输层)|[网络层](#网络层) |
---

# 内容

## <span id = "七层与四层">七层与四层</span>
### 七层OSI

每一层的协议如下：

- 应用层：FTP、DNS、Telnet、SMTP、HTTP、WWW、NFS、**TLS**

- 表示层：JPEG、MPEG、ASII、**TLS**

- 会话层：NFS、SQL、NETBIOS、RPC

- 传输层：TCP、UDP、SPX

- 网络层：IP、ICMP、ARP、RARP、OSPF、IPX、RIP、IGRP、 （路由器）

- 数据链路：PPP、FR、HDLC、VLAN、MAC （网桥，交换机）

- 物理层：RJ45、CLOCK、IEEE802.3 （中继器，集线器）

每一层的作用如下：

- 应用层：允许访问OSI环境的手段（应用协议数据单元APDU）

- 表示层：对数据进行翻译、加密和压缩（表示协议数据单元PPDU）

- 会话层：建立、管理和终止会话（会话协议数据单元SPDU）

- 传输层：提供端到端的可靠报文传递和错误恢复（段Segment）

- 网络层：负责数据包从源到宿的传递和网际互连（包PackeT）

- 数据链路层：将比特组装成帧和点到点的传递（帧Frame）

- 物理层：通过媒介传输比特,确定机械及电气规范（比特Bit）

### TCP/IP参考模型

共有4层：

- 应用层，例如HTTP、FTP、DNS
（如BGP和RIP这样的路由协议，尽管由于各种各样的原因它们分别运行在TCP和UDP上，仍然可以将它们看作网络层的一部分）

- 传输层，例如TCP、UDP、RTP、SCTP
（如OSPF这样的路由协议，尽管运行在IP上也可以看作是网络层的一部分）

- 网络层，对于TCP/IP来说这是因特网协议（IP）
（如ICMP和IGMP这样的必须协议尽管运行在IP上，也仍然可以看作是网络互连层的一部分；ARP不运行在IP上）

- 网络访问(链接)层，例如以太网、Wi-Fi、MPLS等

PS：

- 上面写着TLS既在应用层又在传输层，但其实没这么简单。传输层安全性协议（英语：Transport Layer Security，缩写：TLS）及其前身安全套接层（英语：Secure Sockets Layer，缩写：SSL）是一种安全协议，目的是为互联网通信提供安全及数据完整性保障。

  - OSI模型不适用于SSL，不能100％准确的说在哪个位置。只能表示SSL作用于应用层和传输层之间。如果硬要说在哪个位置，那就是：会话层
  
  - TLS在应用层和传输层之间运行，将应用层数据包装，建立加密会话

- 网络层在七层中的英文是network layer，在四层中的英文是internet layer。网络访问(链接)层的英文是Network Access(link) layer	

## <span id = "应用层">应用层</span>

本节以HTTP为重点，TODO:后面想起来再补充其他协议。

#### HTTP特点

- 端口号80，三次握手即connect，根据ip和端口号发起连接请求

- 浏览器根据HTTP request帮助用户组织好报文头+请求头+信息体（可选）发送给服务器，根据服务器传给浏览器的HTTP response进行网页渲染

- 对于有多个资源的页面，HTTP1.0对每一个文件建立一个TCP连接，传输完数据立马断开，存在效率低下的问题。HTTP1.1保持长连接，传输完毕才断开连接，可能长时间占用服务器资源，导致吞吐率下降。除此之外，还有HTTP0.9和HTTP2.0

#### HTTP1.1与HTTP1.0

在HTTP1.1中，长连接被默认采用，并能很好地配合代理服务器工作。还支持以管道方式在同时发送多个请求，以便降低线路负载，提高传输速度。

HTTP/1.1相较于HTTP/1.0协议的区别主要体现在：

- 缓存处理
- 带宽优化及网络连接的使用
- 错误通知的管理
- 消息在网络中的发送
- 互联网地址的维护
- 安全性及完整性

#### HTTP工作流程

在 **HTTP特点** 中提到了，可以分为以下四个步骤：

- 握手建立连接

- 客户机发送request到服务器（由浏览器代理来组织好request）

- 服务器返回response，并浏览器渲染好响应信息

- 断开连接（HTTP1.0与HTTP1.1不同）


 #### HTTP报文结构
 
 个人主要参考游双的<Linux高性能服务器编程>及Wiki进行这方面的学习。
 由于网上有很多详尽资料，自觉水平有限，难以推陈出新或将冗长的内容进行精确概括，故暂时置空。
 

 
## <span id = "传输层">传输层</span>

可以参考[我的博客](https://blog.csdn.net/jojozym/article/details/106034037?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522159341586019724839229962%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=159341586019724839229962&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_ctr_v4-1-106034037.ecpm_v1_rank_ctr_v4&utm_term=%E8%B0%B7%E6%AD%8CBBR+JOJOZYM)
## <span id = "网络层">网络层</span>

可以参考[我的博客](https://blog.csdn.net/jojozym/article/details/106034037?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522159341586019724839229962%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=159341586019724839229962&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_ctr_v4-1-106034037.ecpm_v1_rank_ctr_v4&utm_term=%E8%B0%B7%E6%AD%8CBBR+JOJOZYM)
 
谢谢观看！欢迎勘误
 
